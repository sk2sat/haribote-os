# 1-1 とにかくやるのだぁ
さて，圧倒的「「やるだけ」」のお時間です．

それではhelloos.imgを作っていきます．

```
$ touch helloos.img
$ hexedit helloos.img
```

はい．あとは，「やるだけ」です．本を見てがんばってバイナリを打ち込んでいきましょう！(ぇ


というのは嘘で，1MB超の0x00を打ち込むのは正気の沙汰ではない(といいつつ途中まではやった)ので，ちょっと楽をします．

そこそこの大きさの0x00が詰まったファイル"zero"を作っておいて，
```
$ cat helloos.img zero > tmp.img
```
とかやると，helloos.imgの末尾にzeroが追加されたファイル"tmp.img"が出来ます．
まあコピペ代わりですね．


## 起動してみる
さて，ディスクイメージが出来たので，本に書いてある通り，フロッピーディスクに書き込んで起動してみましょう...って，イマドキ，フロッピーなんてそうそうないですよね．
それに，これから先，作ったOSの動作確認のために毎回イメージファイルをディスクに書き込んで起動しなきゃいけないのでしょうか？そんなの面倒です．


というわけで，PCエミュレータを導入しましょう(まあ1ページめくれば書いてあるんですけどね)．
導入するエミュレータは本に書いてあるのと同じQEMUです．
ここでぼくのえみゅれーたがつかえたらかっこいいですね？
QEMUはホントすごくて，すごいです(語彙喪失)入ってない人はこの機会に入れておきましょう．


QEMUでフロッピーディスクイメージをブートするときはこんなかんじ．

```
$ qemu-system-i386 -fda helloos.img
```

実行してみて，画面の中ほどに"hello, world"と表示されていたら成功です！
うまくいかなかったら，qemuのコマンドが合っているか，helloos.imgがちゃんと出来ているかを確認してみてください．


以上すべてをやり終えたものを，(例のごとく)こちらで用意しておきました．
**オリジナルと違い，tolsetにコピーする必要はありません**．


run.batの代わりに，run.shがあります．
```
$ ./run.sh
```
とすると，QEMUが走ります．


# 1-3 アセンブラ初体験
初体験ではないですが，まあ見出しは本に合わせてるだけです．
「超長いソースプログラム」はさすがにやりません．
18万行も書いたら2度とGitHubに草を生やせなくなってしまう...
というわけで，「まともな長さのソースプログラム」が例によってhelloos1に入っています．
なんと22行ですよ．
アセンブリっていいですねぇ．
まあ今のところDBだけなので実質バイナリですが．
しかもアセンブルするだけでイメージファイルができる．これは素晴らしい．


アセンブルはasm.batの代わりにasm.shでできます．
あと，今回からバイナリは入れないので，使う場合は適宜ビルドしてください．


# 1-4 もうちょっと書きなおしてみる
